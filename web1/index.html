<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BlackpopHub</title>
<style>
body { font-family: sans-serif; background: #121212; color: white; padding: 20px; margin:0; }
h2 { text-align: center; font-size: 28px; margin-bottom: 20px; }
input, button, textarea { border-radius: 6px; border:none; outline:none; }
input { width: calc(100% - 16px); padding: 8px; margin: 5px 0; }
button { padding:10px 15px; margin:5px 0; background:#ff003c; color:white; cursor:pointer; transition:0.3s; }
button:hover { background:#2563eb; }
a { color: #00f; cursor:pointer; display:block; text-align:center; margin-top:5px; }
.box { background:#1e1e1e; padding:15px; margin:0 auto 20px auto; width:90%; max-width:700px; border-radius:12px; box-shadow:0 0 10px #00000050; }
textarea { width:100%; height:100px; padding:10px; resize:none; background:#111; color:#eee; font-size:14px; }
textarea[readonly]{background:#222;}
.msg { color: #8bf48a; display:none; margin-top:8px; text-align:center; }
#logout { position:fixed; left:10px; bottom:10px; padding:15px 20px; background:#ff6600; font-size:16px; border-radius:8px; cursor:pointer; display:none; transition:0.3s; }
#logout:hover { background:#ff3300; transform: scale(1.05);}
#username-btn{position:fixed;right:10px;top:10px;background:#2563eb;padding:10px 15px;border-radius:8px;cursor:pointer;display:none;}
#user-time-box{position:fixed;right:10px;top:50px;background:#333;padding:10px;border-radius:8px;display:none;max-width:200px;word-break:break-word;}
.edit-btn{background:#ff9800;margin-left:10px;}
.edit-btn:hover{background:#f57c00;}
.save-btn{background:#4caf50;}
.save-btn:hover{background:#45a049;}
.cancel-btn{background:#666;}
.cancel-btn:hover{background:#555;}
.editing-indicator{color:#ff9800;font-size:12px;margin-top:5px;display:none;}
@media(max-width:480px){
    h2{font-size:24px;}
    #logout, #username-btn{padding:10px 12px;font-size:14px;}
}
</style>
</head>
<body>

<!-- Login -->
<div id="login-container" class="box">
    <h2>Login</h2>
    <input type="text" id="login-username" placeholder="Username"><br>
    <input type="password" id="login-password" placeholder="Password"><br>
    <button onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
    <a onclick="showRegister()">‡∏´‡∏≤‡∏£‡∏´‡∏±‡∏™</a>
    <p id="login-msg" style="color:red;"></p>
</div>

<!-- Register / ‡∏´‡∏≤‡πÇ‡∏Ñ‡πâ‡∏î -->
<div id="register-container" class="box" style="display:none;">
    <h2>‡∏´‡∏≤‡∏£‡∏´‡∏±‡∏™</h2>
    <p>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÄ‡∏ß‡πá‡∏ö‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏≥‡∏£‡∏´‡∏±‡∏™‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Login</p>
    <button onclick="openCodeSite()">‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÄ‡∏ß‡πá‡∏ö‡∏´‡∏≤‡πÇ‡∏Ñ‡πâ‡∏î</button>
    <a onclick="showLogin()">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Login</a>
</div>

<!-- Scripts -->
<div id="script-container" style="display:none;">
<h2>Script Roblox</h2>

<!-- ‡∏ä‡πà‡∏≠‡∏á 1 -->
<div class="box">
    <h3 id="title1" contenteditable="false">Script BPHub ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ BlackpopHub</h3>
    <textarea id="text1" readonly>-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢‡∏Ñ‡∏ô‡πÑ‡∏ó‡∏¢
-- ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
--BlackpopHub
        
loadstring(game:HttpGet(("https://raw.githubusercontent.com/BLACKPOPHUN/script-BPHUB/refs/heads/main/Script/BPHUB"), true))() 
        
--‡∏£‡∏´‡∏±‡∏™ 7952
-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á
-- ‡∏£‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏à‡∏´‡∏≤‡∏¢</textarea>
    <button onclick="copyFrom('text1')">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button>
    <button id="edit1" class="edit-btn" style="display:none;" onclick="editScript(1)">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
    <button id="save1" class="save-btn" style="display:none;" onclick="saveScript(1)">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
    <button id="cancel1" class="cancel-btn" style="display:none;" onclick="cancelEdit(1)">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    <div id="text1-msg" class="msg">‚úî</div>
    <div id="editing1" class="editing-indicator">üî¥ ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç...</div>
</div>

<!-- ‡∏ä‡πà‡∏≠‡∏á 2 -->
<div class="box">
    <h3 id="title2" contenteditable="false">Script 99 ‡∏Ñ‡∏∑‡∏ô</h3>
    <textarea id="text2" readonly>loadstring(game:HttpGet("https://raw.githubusercontent.com/BLACKPOPHUN/script-BPHUB/refs/heads/main/Script/FoxnameHub-99Day"))()</textarea>
    <button onclick="copyFrom('text2')">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button>
    <button id="edit2" class="edit-btn" style="display:none;" onclick="editScript(2)">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
    <button id="save2" class="save-btn" style="display:none;" onclick="saveScript(2)">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
    <button id="cancel2" class="cancel-btn" style="display:none;" onclick="cancelEdit(2)">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    <div id="text2-msg" class="msg">‚úî</div>
    <div id="editing2" class="editing-indicator">üî¥ ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç...</div>
</div>

<!-- ‡∏ä‡πà‡∏≠‡∏á 3 -->
<div class="box">
    <h3 id="title3" contenteditable="false">Script 99 ‡∏Ñ‡∏∑‡∏ô ‡πÄ‡∏°‡∏ô‡∏π‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</h3>
    <textarea id="text3" readonly>-- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏•‡∏¢‡∏¢

    loadstring(game:HttpGet("https://raw.githubusercontent.com/BLACKPOPHUN/script-BPHUB/refs/heads/main/Script/TH-99Day"))()

-- ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏£‡∏∞‡∏ß‡∏±‡∏á!!</textarea>
    <button onclick="copyFrom('text3')">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button>
    <button id="edit3" class="edit-btn" style="display:none;" onclick="editScript(3)">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
    <button id="save3" class="save-btn" style="display:none;" onclick="saveScript(3)">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
    <button id="cancel3" class="cancel-btn" style="display:none;" onclick="cancelEdit(3)">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    <div id="text3-msg" class="msg">‚úî</div>
    <div id="editing3" class="editing-indicator">üî¥ ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç...</div>
</div>

<!-- ‡∏ä‡πà‡∏≠‡∏á 4 -->
<div class="box">
    <h3 id="title4" contenteditable="false">Script Auto ‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÄ‡∏û‡∏ä‡∏£ 99 ‡∏Ñ‡∏∑‡∏ô</h3>
    <textarea id="text4" readonly> loadstring(game:HttpGet(("https://raw.githubusercontent.com/BLACKPOPHUN/script-BPHUB/refs/heads/main/Script/Auto-farm-Gem-99Day"), true))()
--‡∏£‡∏´‡∏±‡∏™ 7952</textarea>
    <button onclick="copyFrom('text4')">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button>
    <button id="edit4" class="edit-btn" style="display:none;" onclick="editScript(4)">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
    <button id="save4" class="save-btn" style="display:none;" onclick="saveScript(4)">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
    <button id="cancel4" class="cancel-btn" style="display:none;" onclick="cancelEdit(4)">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    <div id="text4-msg" class="msg">‚úî</div>
    <div id="editing4" class="editing-indicator">üî¥ ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç...</div>
</div>

<!-- ‡∏ä‡πà‡∏≠‡∏á 5 -->
<div class="box">
    <h3 id="title5" contenteditable="false">Script ‡∏ï‡∏Å‡∏õ‡∏•‡∏≤</h3>
    <textarea id="text5" readonly>loadstring(game:HttpGet(("https://raw.githubusercontent.com/BLACKPOPHUN/script-BPHUB/refs/heads/main/Script/Auto-Farm-Fishing"), true))()</textarea>
    <button onclick="copyFrom('text5')">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button>
    <button id="edit5" class="edit-btn" style="display:none;" onclick="editScript(5)">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
    <button id="save5" class="save-btn" style="display:none;" onclick="saveScript(5)">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
    <button id="cancel5" class="cancel-btn" style="display:none;" onclick="cancelEdit(5)">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    <div id="text5-msg" class="msg">‚úî</div>
    <div id="editing5" class="editing-indicator">üî¥ ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç...</div>
</div>

</div>

<div id="logout" onclick="logout()">Logout</div>
<div id="username-btn" onclick="toggleUserTime()">User</div>
<div id="user-time-box"></div>

<script>
// ====== LOGIN & REGISTER ======
let currentUser = null;
let loginTime = null;
let intervalTimer = null;
let syncTimer = null;

// Show/Hide
function showRegister(){ 
    document.getElementById('login-container').style.display='none'; 
    document.getElementById('register-container').style.display='block'; 
    document.getElementById('login-msg').innerText=''; 
}
function showLogin(){ 
    document.getElementById('login-container').style.display='block'; 
    document.getElementById('register-container').style.display='none'; 
    document.getElementById('script-container').style.display='none'; 
}

// ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö‡∏´‡∏≤‡πÇ‡∏Ñ‡πâ‡∏î
function openCodeSite(){
    window.open("https://sub2unlock.me/MjMZMF6","_blank");
}

// Login
function login(){
    const u = document.getElementById("login-username").value.trim();
    const p = document.getElementById("login-password").value.trim();

    if(u==="BP0998" && p==="9980"){
        currentUser = {username:"BP0998", admin:false, lastLogin:new Date().toLocaleString()};
        localStorage.setItem("logged_in_user", JSON.stringify(currentUser));
        showScript();
        return;
    }

    if(u==="admin" && p==="2337952"){
        currentUser = {username:"admin", admin:true, lastLogin:new Date().toLocaleString()};
        localStorage.setItem("logged_in_user", JSON.stringify(currentUser));
        showScript();
        return;
    }

    document.getElementById("login-msg").innerText = "Username ‡∏´‡∏£‡∏∑‡∏≠ Password ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á";
}

// ‡πÅ‡∏™‡∏î‡∏á Script
function showScript(){
    document.getElementById('login-container').style.display='none';
    document.getElementById('register-container').style.display='none';
    document.getElementById('script-container').style.display='block';
    document.getElementById('logout').style.display='block';
    document.getElementById('username-btn').style.display='block';
    document.getElementById('username-btn').innerText = currentUser.username;
    loginTime = new Date();
    startTimer();
    
    // ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô
    if(currentUser.admin){
        for(let i=1; i<=5; i++){
            document.getElementById('edit'+i).style.display='inline-block';
        }
    }
    
    // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ
    loadAllScripts();
    
    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö Real-time Sync
    startRealtimeSync();
}

// Logout
function logout(){
    currentUser=null;
    clearInterval(intervalTimer);
    clearInterval(syncTimer);
    localStorage.removeItem("logged_in_user");
    document.getElementById('script-container').style.display='none';
    document.getElementById('logout').style.display='none';
    document.getElementById('username-btn').style.display='none';
    showLogin();
}

// Copy Script
function copyFrom(id){
    const ta=document.getElementById(id);
    const text=ta.value;
    navigator.clipboard.writeText(text).then(()=>showMsg(id));
}
function showMsg(id){ const msg=document.getElementById(id+'-msg'); msg.style.display='block'; setTimeout(()=>msg.style.display='none',1500);}

// User Time Display
function toggleUserTime(){
    const box = document.getElementById('user-time-box');
    box.style.display = (box.style.display==='none')?'block':'none';
}
function startTimer(){
    intervalTimer = setInterval(()=>{
        if(!currentUser) return;
        let timeHTML = `‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö: ${Math.floor((new Date()-loginTime)/1000)} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ<br>`;
        timeHTML += `‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ${currentUser.lastLogin}`;
        document.getElementById('user-time-box').innerHTML = timeHTML;
    },500);
}

// ====== EDIT SYSTEM ======
let originalContent = {};

function editScript(id){
    const textarea = document.getElementById('text'+id);
    const title = document.getElementById('title'+id);
    
    // ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏ß‡πâ
    originalContent[id] = {
        text: textarea.value,
        title: title.innerText
    };
    
    // ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
    textarea.readOnly = false;
    textarea.style.background = '#1a3a1a';
    title.contentEditable = true;
    title.style.outline = '2px solid #ff9800';
    
    // ‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°
    document.getElementById('edit'+id).style.display='none';
    document.getElementById('save'+id).style.display='inline-block';
    document.getElementById('cancel'+id).style.display='inline-block';
    
    // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡πà‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
    localStorage.setItem('editing_'+id, 'true');
    localStorage.setItem('editing_by', currentUser.username);
}

function saveScript(id){
    const textarea = document.getElementById('text'+id);
    const title = document.getElementById('title'+id);
    
    // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
    localStorage.setItem('script_text_'+id, textarea.value);
    localStorage.setItem('script_title_'+id, title.innerText);
    localStorage.setItem('last_update_'+id, new Date().toISOString());
    
    // ‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
    textarea.readOnly = true;
    textarea.style.background = '#222';
    title.contentEditable = false;
    title.style.outline = 'none';
    
    // ‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°
    document.getElementById('edit'+id).style.display='inline-block';
    document.getElementById('save'+id).style.display='none';
    document.getElementById('cancel'+id).style.display='none';
    
    // ‡∏•‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
    localStorage.removeItem('editing_'+id);
    localStorage.removeItem('editing_by');
    
    // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
    showMsg('text'+id);
}

function cancelEdit(id){
    const textarea = document.getElementById('text'+id);
    const title = document.getElementById('title'+id);
    
    // ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°
    if(originalContent[id]){
        textarea.value = originalContent[id].text;
        title.innerText = originalContent[id].title;
    }
    
    // ‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
    textarea.readOnly = true;
    textarea.style.background = '#222';
    title.contentEditable = false;
    title.style.outline = 'none';
    
    // ‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°
    document.getElementById('edit'+id).style.display='inline-block';
    document.getElementById('save'+id).style.display='none';
    document.getElementById('cancel'+id).style.display='none';
    
    // ‡∏•‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
    localStorage.removeItem('editing_'+id);
    localStorage.removeItem('editing_by');
}

function loadAllScripts(){
    for(let i=1; i<=5; i++){
        const savedText = localStorage.getItem('script_text_'+i);
        const savedTitle = localStorage.getItem('script_title_'+i);
        
        if(savedText){
            document.getElementById('text'+i).value = savedText;
        }
        if(savedTitle){
            document.getElementById('title'+i).innerText = savedTitle;
        }
    }
}

// ====== REAL-TIME SYNC ======
function startRealtimeSync(){
    syncTimer = setInterval(()=>{
        for(let i=1; i<=5; i++){
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
            const isEditing = localStorage.getItem('editing_'+i);
            const editingBy = localStorage.getItem('editing_by');
            const indicator = document.getElementById('editing'+i);
            
            if(isEditing === 'true' && editingBy !== currentUser.username){
                // ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                indicator.style.display = 'block';
                indicator.innerText = `üî¥ ${editingBy} ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç...`;
            } else {
                indicator.style.display = 'none';
            }
            
            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
            if(editingBy !== currentUser.username){
                const lastUpdate = localStorage.getItem('last_update_'+i);
                const currentText = document.getElementById('text'+i).value;
                const currentTitle = document.getElementById('title'+i).innerText;
                const savedText = localStorage.getItem('script_text_'+i);
                const savedTitle = localStorage.getItem('script_title_'+i);
                
                // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ñ‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô
                if(savedText && savedText !== currentText && !document.getElementById('text'+i).readOnly === false){
                    document.getElementById('text'+i).value = savedText;
                }
                if(savedTitle && savedTitle !== currentTitle && document.getElementById('title'+i).contentEditable === 'false'){
                    document.getElementById('title'+i).innerText = savedTitle;
                }
            }
        }
    }, 500); // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å 0.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
}

// Auto-login ‡∏´‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏¢‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô
window.onload = function(){
    const stored = localStorage.getItem("logged_in_user");
    if(stored){
        currentUser = JSON.parse(stored);
        showScript();
    }
}
</script>

</body>
</html>
