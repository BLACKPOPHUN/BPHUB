<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LovePage üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600&display=swap" rel="stylesheet">

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics-compat.js"></script>

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#ffe6f0;
  font-family:'Prompt',sans-serif;
}
.card{
  background:#fff;
  width:360px;
  height:340px;
  padding:30px;
  border-radius:25px;
  box-shadow:0 10px 25px rgba(0,0,0,.15);
  position:relative;
  text-align:center;
}
button{
  position:absolute;
  padding:14px 25px;
  border-radius:999px;
  border:none;
  font-size:18px;
  cursor:pointer;
}
.yes{
  background:linear-gradient(135deg,#ff9ebc,#ff6f91);
  color:#fff;
  bottom:30px;
  left:50%;
  transform:translateX(-50%);
}
.no{
  background:#ffd6e8;
  top:120px;
  left:120px;
}
</style>
</head>

<body>
<div class="card">
  <h2>‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ü‡∏ô‡∏Å‡∏±‡∏ö‡∏û‡∏µ‡πà‡∏ô‡∏∞ ü•∫</h2>
  <button class="no" id="noBtn">‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô üíî</button>
  <button class="yes" onclick="sendAnswer('‡πÄ‡∏õ‡πá‡∏ô ‚ù§Ô∏è')">‡πÄ‡∏õ‡πá‡∏ô ‚ù§Ô∏è</button>
</div>

<script>
/* ===== Firebase Config ===== */
const firebaseConfig = {
  apiKey: "AIzaSyA4nwk8ZPeVvoLOR4UyPLP-yVUyhlinEN8",
  authDomain: "blackpophun.firebaseapp.com",
  databaseURL: "https://blackpophun-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "blackpophun",
  storageBucket: "blackpophun.firebasestorage.app",
  messagingSenderId: "735578888290",
  appId: "1:735578888290:web:b68c60a5bdba76880ed93b",
  measurementId: "G-LBD7BZD8EJ"
};

firebase.initializeApp(firebaseConfig);
firebase.analytics();
const db = firebase.database();

/* ===== init config (‡πÑ‡∏°‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ã‡πâ‡∏≥) ===== */
db.ref("config/discord").once("value").then(snap=>{
  if(!snap.exists()){
    db.ref("config/discord").set({ enabled:true });
  }
});

/* ===== ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö ===== */
function sendAnswer(answer){
  db.ref("lovepage_answers").push({
    answer: answer,
    time: Date.now()
  });
  alert("‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞ üíñ");
}

/* ===== ‡∏õ‡∏∏‡πà‡∏°‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡∏µ + ‡∏î‡∏∑‡πâ‡∏≠ ===== */
const noBtn = document.getElementById("noBtn");
const card = document.querySelector(".card");
let count = 0;

function moveBtn(){
  count++;
  noBtn.style.left =
    Math.random() * (card.clientWidth - noBtn.offsetWidth) + "px";
  noBtn.style.top =
    Math.random() * (card.clientHeight - noBtn.offsetHeight) + "px";

  if(count >= 5){
    sendAnswer("‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô (‡∏î‡∏∑‡πâ‡∏≠ üòà)");
    count = 0;
  }
}

noBtn.addEventListener("mouseover", moveBtn);
noBtn.addEventListener("click", moveBtn);
</script>
</body>
</html>
