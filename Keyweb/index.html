<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>สร้าง Key Roblox</title>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>
<body style="font-family:sans-serif; padding:20px;">
<h2>สร้าง Key Roblox 12 ชั่วโมง</h2>
<button onclick="createKey()">สร้าง Key</button>
<p id="key"></p>

<script>
// Firebase config
const firebaseConfig = {
    apiKey: "AIzaSyA4nwk8ZPeVvoLOR4UyPLP-yVUyhlinEN8",
    authDomain: "blackpophun.firebaseapp.com",
    databaseURL: "https://blackpophun-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "blackpophun",
    storageBucket: "blackpophun.appspot.com",
    messagingSenderId: "735578888290",
    appId: "1:735578888290:web:b68c60a5bdba76880ed93b",
    measurementId: "G-LBD7BZD8EJ"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// สร้างคีย์สุ่ม
function generateKey() {
    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
    let key = "BP-";
    for(let i=0; i<4; i++) key += chars[Math.floor(Math.random()*chars.length)];
    key += "-";
    for(let i=0; i<4; i++) key += chars[Math.floor(Math.random()*chars.length)];
    return key;
}

function createKey() {
    const key = generateKey();
    const now = Date.now();
    const expire = now + 12*60*60*1000; // 12 ชั่วโมง
    // บันทึกลง Firebase
    db.ref("keys/" + key).set({
        created: now,
        expire: expire,
        device: ""
    }).then(() => {
        document.getElementById("key").innerText = "Key: " + key + "\nหมดอายุ: 12 ชั่วโมง";
    }).catch(err => {
        document.getElementById("key").innerText = "เกิดข้อผิดพลาด: " + err;
    });
}
</script>
</body>
</html>
